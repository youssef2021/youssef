(function(a){a.fn.theiaStickySidebar=function(b){function f(j,k){return!(!0!==j.initialized)||!(a('body').width()<j.minWidth)&&(g(j,k),!0)}function g(j,k){j.initialized=!0,a('head').append(a('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),k.each(function(){function l(){p.fixedScrollTop=0,p.sidebar.css({'min-height':'1px'}),p.stickySidebar.css({position:'static',width:''})}function m(x){var y=x.height();return x.children().each(function(){y=Math.max(y,a(this).height())}),y}var p={};p.sidebar=a(this),p.options=j||{},p.container=a(p.options.containerSelector),0==p.container.size()&&(p.container=p.sidebar.parent()),p.sidebar.parents().css('-webkit-transform','none'),p.sidebar.css({position:'relative',overflow:'visible','-webkit-box-sizing':'border-box','-moz-box-sizing':'border-box','box-sizing':'border-box'}),p.stickySidebar=p.sidebar.find('.theiaStickySidebar'),0==p.stickySidebar.length&&(p.sidebar.find('script').remove(),p.stickySidebar=a('<div>').addClass('theiaStickySidebar').append(p.sidebar.children()),p.sidebar.append(p.stickySidebar)),p.marginTop=parseInt(p.sidebar.css('margin-top')),p.marginBottom=parseInt(p.sidebar.css('margin-bottom')),p.paddingTop=parseInt(p.sidebar.css('padding-top')),p.paddingBottom=parseInt(p.sidebar.css('padding-bottom'));var v=p.stickySidebar.offset().top,w=p.stickySidebar.outerHeight();p.stickySidebar.css('padding-top',1),p.stickySidebar.css('padding-bottom',1),v-=p.stickySidebar.offset().top,w=p.stickySidebar.outerHeight()-w-v,0==v?(p.stickySidebar.css('padding-top',0),p.stickySidebarPaddingTop=0):p.stickySidebarPaddingTop=1,0==w?(p.stickySidebar.css('padding-bottom',0),p.stickySidebarPaddingBottom=0):p.stickySidebarPaddingBottom=1,p.previousScrollTop=null,p.fixedScrollTop=0,l(),p.onScroll=function(x){if(x.stickySidebar.is(':visible')){if(a('body').width()<x.options.minWidth)return void l();if(x.sidebar.outerWidth(!0)+50>x.container.width())return void l();var y=a(document).scrollTop(),z='static';if(y>=x.container.offset().top+(x.paddingTop+x.marginTop-x.options.additionalMarginTop)){var F,A=x.paddingTop+x.marginTop+j.additionalMarginTop,B=x.paddingBottom+x.marginBottom+j.additionalMarginBottom,C=x.container.offset().top,D=x.container.offset().top+m(x.container),E=0+j.additionalMarginTop,G=x.stickySidebar.outerHeight()+A+B<a(window).height();F=G?E+x.stickySidebar.outerHeight():a(window).height()-x.marginBottom-x.paddingBottom-j.additionalMarginBottom;var H=C-y+x.paddingTop+x.marginTop,I=D-y-x.paddingBottom-x.marginBottom,J=x.stickySidebar.offset().top-y,K=x.previousScrollTop-y;'fixed'==x.stickySidebar.css('position')&&'modern'==x.options.sidebarBehavior&&(J+=K),'legacy'==x.options.sidebarBehavior&&(J=F-x.stickySidebar.outerHeight(),J=Math.max(J,F-x.stickySidebar.outerHeight())),J=0<K?Math.min(J,E):Math.max(J,F-x.stickySidebar.outerHeight()),J=Math.max(J,H),J=Math.min(J,I-x.stickySidebar.outerHeight());var L=x.container.height()==x.stickySidebar.outerHeight();z=L||J!=E?L||J!=F-x.stickySidebar.outerHeight()?y+J-x.sidebar.offset().top-x.paddingTop<=j.additionalMarginTop?'static':'absolute':'fixed':'fixed'}if('fixed'==z)x.stickySidebar.css({position:'fixed',width:x.sidebar.width(),top:J,left:x.sidebar.offset().left+parseInt(x.sidebar.css('padding-left'))});else if('absolute'==z){var M={};'absolute'!=x.stickySidebar.css('position')&&(M.position='absolute',M.top=y+J-x.sidebar.offset().top-x.stickySidebarPaddingTop-x.stickySidebarPaddingBottom),M.width=x.sidebar.width(),M.left='',x.stickySidebar.css(M)}else'static'==z&&l();'static'!=z&&!0==x.options.updateSidebarHeight&&x.sidebar.css({'min-height':x.stickySidebar.outerHeight()+x.stickySidebar.offset().top-x.sidebar.offset().top+x.paddingBottom}),x.previousScrollTop=y}},p.onScroll(p),a(document).scroll(function(x){return function(){x.onScroll(x)}}(p)),a(window).resize(function(x){return function(){x.stickySidebar.css({position:'static'}),x.onScroll(x)}}(p))})}b=a.extend({containerSelector:'',additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,sidebarBehavior:'modern'},b),b.additionalMarginTop=parseInt(b.additionalMarginTop)||0,b.additionalMarginBottom=parseInt(b.additionalMarginBottom)||0,function(j,k){var l=f(j,k);l||(console.log('TST: Body width smaller than options.minWidth. Init is delayed.'),a(document).scroll(function(m,p){return function(v){var w=f(m,p);w&&a(this).unbind(v)}}(j,k)),a(window).resize(function(m,p){return function(v){var w=f(m,p);w&&a(this).unbind(v)}}(j,k)))}(b,this)}})(jQuery),function(a){a.fn.replaceText=function(b,d,f){return this.each(function(){var h,j,g=this.firstChild,k=[];if(g)do 3===g.nodeType&&(h=g.nodeValue,j=h.replace(b,d),j!=h&&(!f&&/</.test(j)?(a(g).before(j),k.push(g)):g.nodeValue=j));while(g=g.nextSibling);k.length&&a(k).remove()})}}(jQuery);var s='[full-width]',o='[left-sidebar]',u='[right-sidebar]',c='[contact-form]',q='[line]';$('.post *').replaceText(s,'<style>#content-wrapper{width: 100% !important;float: none !important;padding-right: 0 !important;border-right: 0 !important;}.post-footer-line>* {margin-right: 0 !important;}#sidebar-wdbloog{display:none;}</style>'),$('.post-body *').replaceText(o,'<style>#content-wrapper{float:right!important;padding-left: 2%;padding-right: inherit !important;padding-bottom: 30px;border-left: 1px solid #eee;border-right: none !important;}#sidebar-wdbloog{float:left!important;right: -1px;left: inherit !important;padding-left: 0 !important;padding-right: 2%;border-left: none !important;border-right: 1px solid #EEE;}</style>'),$('.post-body *').replaceText(u,'<style>#content-wrapper{float:left!important;}#sidebar-wdbloog{float:right!important;}</style>'),$('.post-body *').replaceText(c,'<div dir=\'ltr\'><div class=\'blogger-items-contact\'></div></div>'),$('.post-body *').replaceText(q,'<div class=\'line\'></div>'),jQuery(document).ready(function(){jQuery('#sidebar-wdbloog').theiaStickySidebar({additionalMarginTop:20,additionalMarginBottom:5})});
